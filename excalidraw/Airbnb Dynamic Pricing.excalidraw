{"type":"excalidraw","version":2,"source":"https://app.excalidraw.com","metadata":{"id":"5tdENP1qbW1","workspace":"6lsqOkFWqjK","name":"Airbnb Dynamic Pricing","created":"2025-10-29T21:39:30.404Z","updated":"2025-10-29T21:50:12.661Z","collection":null,"creator":"Alx6QpYT9Vj","updater":"Alx6QpYT9Vj","isPrivate":true,"pinned":false},"elements":[{"id":"s8T00xzbxuIxQG9OBSsUP","type":"text","x":404,"y":437.8828125,"width":1231.55908203125,"height":3850,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"index":"a0","roundness":null,"seed":1329405092,"version":255,"versionNonce":588334244,"isDeleted":false,"boundElements":null,"updated":1761774610528,"link":null,"locked":false,"text":"How to design dynamic pricing for airbnb\n\n\nCQ\n\nAre we optimizing price per night for bookings or long-term occupancy?\n\nKPI: increase booking revenue while maintaining occupancy and host satisfaction.\n\nGuardrails: cancellation rate, complaint rate, guest refund rate.\n\nUpdate cadence: daily (price recommendations per listing-day).\n\nSeasonality and events (holidays, local festivals, conferences)? yes.\n\nExternal data sources: competitor listings, demand heatmaps, macroeconomic trends? yes.\n\nModel latency: offline (batch) → recommendations precomputed; online inference optional for what-if scenarios.\n\n\n\n\n\nHigh level\n\nGoal: predict the optimal nightly price  that maximizes expected booking revenue per listing given supply, demand, and context.\n        ​\n\nprice × P(booking∣p,u,l,c)\n(find price) \n\nTwo-stage design:\n\nDemand Estimation Model — predict booking probability given listing and contextual factors.\nRevenue Optimization Layer — derive optimal price using elasticity modeling or simulation.\nPeriodic batch inference → prices cached and surfaced in host dashboards + online refresh for volatile markets.\nIntegration with ranking system — predicted price elasticity used as a feature in ranking homes for guests.\n\n\n\n\nData construction\n\nLabeling\n\nPositive: booked nights (price accepted).\n\nNegative: impressions where user viewed listing but did not book.\n\nTarget: probability of booking given shown price → logit transform for elasticity.\n\nFeature alignment: (price, occupancy, date range, location, seasonality).\n\nTemporal handling\n\nUse rolling windows to capture trends.\n\nAvoid leakage: training on Q(t) → testing on Q(t+1).\n\nSampling\n\nStratified by region, season, property type to avoid geographic bias.\n\nDownsample overrepresented low-demand listings.\n\n\nFeature engineering\n\nListing features\n\nBase price, amenities, bedrooms, rating, photos (CLIP embeddings), host quality score.\n\nLocation: lat/long, walkability, distance to POIs, local demand index.\n\nHistorical occupancy %, price history trend (7d, 30d).\n\nContext / time\n\nDate, DOW, season, holiday flag, local events, weather forecast, macro demand index.\n\nBooking window (lead time) — number of days between search and stay date.\n\nMarket / competition\n\nAverage competitor price for similar listings within radius r.\n\nSupply/demand ratio per region-date (active listings vs searches).\n\nHistorical conversion curve (price elasticity estimate).\n\nUser segment (optional)\n\nCountry, device, historical willingness to pay cluster.\n\n\n\n\n1. Demand Estimation Model\nArchitecture:\n\nWide & Deep (wide → linear elasticity terms; deep → nonlinear interactions).\n\nInputs: normalized log(price), listing features, seasonality embeddings, region id embedding.\n\nLoss: weighted BCE (rare bookings).\n\nOutput: calibrated probability of booking.\n\n\n\n2-Revenue Optimization Layer\n\nFor each listing-day:\n\nSimulate predicted bookings for a range of price pmin, pmax\nCompute expended revenue\n\nEvaluation\n-auc,\nrenenu uplift\n\n\n\nServing\n\nBatch pipeline:\n\nDaily Spark/Beam job → recompute price recommendations per listing-day.\n\nCache in key-value store (listing_id, date) → surfaced in host tools & downstream rankers.\n\nOnline inference (optional):\n\nFast MLP service for real-time what-if queries from hosts adjusting price sliders.\n\nFeature freshness:\n\nDemand index, competitor prices updated hourly; static listing features cached.\n\nVersioning: per-region model → rollback safe via shadow serving.\n\n\nMonitoring\n\nTrack daily drift in price vs booking conversion.\n\nAlert if booking rate drops > x% for given region.\n\nPSI tests on price-related features.\n\nGuardrail dashboards: FPR on mispriced outliers (top/bottom 1% price deviation).\n\n\n","fontSize":20,"fontFamily":5,"textAlign":"left","verticalAlign":"top","containerId":null,"originalText":"How to design dynamic pricing for airbnb\n\n\nCQ\n\nAre we optimizing price per night for bookings or long-term occupancy?\n\nKPI: increase booking revenue while maintaining occupancy and host satisfaction.\n\nGuardrails: cancellation rate, complaint rate, guest refund rate.\n\nUpdate cadence: daily (price recommendations per listing-day).\n\nSeasonality and events (holidays, local festivals, conferences)? yes.\n\nExternal data sources: competitor listings, demand heatmaps, macroeconomic trends? yes.\n\nModel latency: offline (batch) → recommendations precomputed; online inference optional for what-if scenarios.\n\n\n\n\n\nHigh level\n\nGoal: predict the optimal nightly price  that maximizes expected booking revenue per listing given supply, demand, and context.\n        ​\n\nprice × P(booking∣p,u,l,c)\n(find price) \n\nTwo-stage design:\n\nDemand Estimation Model — predict booking probability given listing and contextual factors.\nRevenue Optimization Layer — derive optimal price using elasticity modeling or simulation.\nPeriodic batch inference → prices cached and surfaced in host dashboards + online refresh for volatile markets.\nIntegration with ranking system — predicted price elasticity used as a feature in ranking homes for guests.\n\n\n\n\nData construction\n\nLabeling\n\nPositive: booked nights (price accepted).\n\nNegative: impressions where user viewed listing but did not book.\n\nTarget: probability of booking given shown price → logit transform for elasticity.\n\nFeature alignment: (price, occupancy, date range, location, seasonality).\n\nTemporal handling\n\nUse rolling windows to capture trends.\n\nAvoid leakage: training on Q(t) → testing on Q(t+1).\n\nSampling\n\nStratified by region, season, property type to avoid geographic bias.\n\nDownsample overrepresented low-demand listings.\n\n\nFeature engineering\n\nListing features\n\nBase price, amenities, bedrooms, rating, photos (CLIP embeddings), host quality score.\n\nLocation: lat/long, walkability, distance to POIs, local demand index.\n\nHistorical occupancy %, price history trend (7d, 30d).\n\nContext / time\n\nDate, DOW, season, holiday flag, local events, weather forecast, macro demand index.\n\nBooking window (lead time) — number of days between search and stay date.\n\nMarket / competition\n\nAverage competitor price for similar listings within radius r.\n\nSupply/demand ratio per region-date (active listings vs searches).\n\nHistorical conversion curve (price elasticity estimate).\n\nUser segment (optional)\n\nCountry, device, historical willingness to pay cluster.\n\n\n\n\n1. Demand Estimation Model\nArchitecture:\n\nWide & Deep (wide → linear elasticity terms; deep → nonlinear interactions).\n\nInputs: normalized log(price), listing features, seasonality embeddings, region id embedding.\n\nLoss: weighted BCE (rare bookings).\n\nOutput: calibrated probability of booking.\n\n\n\n2-Revenue Optimization Layer\n\nFor each listing-day:\n\nSimulate predicted bookings for a range of price pmin, pmax\nCompute expended revenue\n\nEvaluation\n-auc,\nrenenu uplift\n\n\n\nServing\n\nBatch pipeline:\n\nDaily Spark/Beam job → recompute price recommendations per listing-day.\n\nCache in key-value store (listing_id, date) → surfaced in host tools & downstream rankers.\n\nOnline inference (optional):\n\nFast MLP service for real-time what-if queries from hosts adjusting price sliders.\n\nFeature freshness:\n\nDemand index, competitor prices updated hourly; static listing features cached.\n\nVersioning: per-region model → rollback safe via shadow serving.\n\n\nMonitoring\n\nTrack daily drift in price vs booking conversion.\n\nAlert if booking rate drops > x% for given region.\n\nPSI tests on price-related features.\n\nGuardrail dashboards: FPR on mispriced outliers (top/bottom 1% price deviation).\n\n\n","autoResize":true,"lineHeight":1.25}],"appState":{"viewBackgroundColor":"#ffffff","lockedMultiSelections":{}},"files":{}}